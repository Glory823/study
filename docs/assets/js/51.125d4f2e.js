(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{177:function(t,e,s){"use strict";s.r(e);var a=s(0),r=Object(a.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"gulp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gulp","aria-hidden":"true"}},[t._v("#")]),t._v(" gulp")]),t._v(" "),s("h4",{attrs:{id:"gulp-是一个前端自动化构建工具，基于流的构建系统，主要优点是速度，效率和简化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gulp-是一个前端自动化构建工具，基于流的构建系统，主要优点是速度，效率和简化","aria-hidden":"true"}},[t._v("#")]),t._v(" gulp 是一个前端自动化构建工具，基于流的构建系统，主要优点是速度，效率和简化")]),t._v(" "),s("h4",{attrs:{id:"gulp-可以干什么？"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gulp-可以干什么？","aria-hidden":"true"}},[t._v("#")]),t._v(" gulp 可以干什么？")]),t._v(" "),s("pre",[s("code",[t._v("开发服务器，Sass,Less或Stylus文件的预处理器，处理JavaScript的自动化脚本，代码优化工具，压缩，编译或移动文件\n")])]),t._v(" "),s("h5",{attrs:{id:"gulp-的官网：https-www-gulpjs-com-cn"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gulp-的官网：https-www-gulpjs-com-cn","aria-hidden":"true"}},[t._v("#")]),t._v(" gulp 的官网：https://www.gulpjs.com.cn/")]),t._v(" "),s("p",[t._v("gulp 类似的工具：grunt webpack")]),t._v(" "),s("p",[t._v("gulp 是基于 node.js 的，gulp 和所有插件都通过 JavaScript 编写并依托 Node.js 平台")]),t._v(" "),s("h4",{attrs:{id:"_1-gulp-优点："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-gulp-优点：","aria-hidden":"true"}},[t._v("#")]),t._v(" 1.gulp 优点：")]),t._v(" "),s("ol",[s("li",[t._v("易于使用")]),t._v(" "),s("li",[t._v("构建快速")]),t._v(" "),s("li",[t._v("插件高质")]),t._v(" "),s("li",[t._v("易于学习")])]),t._v(" "),s("h4",{attrs:{id:"_2-gulp-的安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-gulp-的安装","aria-hidden":"true"}},[t._v("#")]),t._v(" 2.gulp 的安装")]),t._v(" "),s("p",[t._v("全局安装 -> 使用 gulp 的命令")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("npm install gulp -g (4.0)\nnpm install gulp@next -g （3.9版本）\n")])])]),s("blockquote",[s("p",[t._v("执行 gulp -v 查看 gulp 的版本号")])]),t._v(" "),s("p",[t._v("局部安装 -> 配置文件内依赖 gulp")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("在本地下载\nnpm install gulp --save-dev(4.0)\n")])])]),s("h4",{attrs:{id:"_3-gulp-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-gulp-api","aria-hidden":"true"}},[t._v("#")]),t._v(" 3.gulp api")]),t._v(" "),s("p",[s("strong",[t._v("1.gulp.task(name,[deps],fn) //建任务")])]),t._v(" "),s("p",[t._v("name:任务名 string")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("任务名为default :  执行 ---\x3e gulp\n\n任务名为minJs : 执行 ---\x3e gulp 任务名\n")])])]),s("p",[s("strong",[t._v("2.gulp.src(globs,[options]) //读文件")])]),t._v(" "),s("p",[t._v("globs 数据类型：string/array 查找文件的规则")]),t._v(" "),s("ul",[s("li",[t._v("通配符路径匹配")])]),t._v(" "),s("ol",[s("li",[t._v("“src/a.js”\n"),s("blockquote",[s("p",[t._v("指定具体文件；")])])]),t._v(" "),s("li",[t._v("“*”：匹配所有文件\n"),s("blockquote",[s("p",[t._v("例：src/*.js(包含 src 下的所有 js 文件)；")])])]),t._v(" "),s("li",[t._v("“**”：匹配 0 个或多个子文件夹\n"),s("blockquote",[s("p",[t._v("例：src/*"),s("em",[t._v("/")]),t._v(".js(包含 src 的 0 个或多个子文件夹下的 js 文件)；")])])]),t._v(" "),s("li",[t._v("“{}”：匹配多个属性\n"),s("blockquote",[s("p",[t._v("例：src/{a,b}.js(包含 a.js 和 b.js 文件) src/*.{jpg,png,gif}(src 下的所有 jpg/png/gif 文件)；")])])]),t._v(" "),s("li",[t._v("“!”：排除文件\n"),s("blockquote",[s("p",[t._v("例：!src/a.js(不包含 src 下的 a.js 文件)；")])])])]),t._v(" "),s("p",[s("strong",[t._v("3.gulp.dest(输出的路径) //输出文件")])]),t._v(" "),s("p",[s("strong",[t._v("4.gulp.serise(task1,task2,....) 设置任务的执行顺序 串行执行")])]),t._v(" "),s("p",[s("strong",[t._v("5.gulp.parallel(task1,task2,.....) 设置任务的执行顺序 并行执行")])]),t._v(" "),s("p",[s("strong",[t._v("6.gulp.watch(globs,gulp.serise/gulp.parallel(task1,task2..)) 监听文件变化，执行任务")])]),t._v(" "),s("h4",{attrs:{id:"gulp-插件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gulp-插件","aria-hidden":"true"}},[t._v("#")]),t._v(" gulp 插件")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("插件")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("gulp-sass")]),t._v(" "),s("td",[t._v("编译 scss")])]),t._v(" "),s("tr",[s("td",[t._v("gulp-less")]),t._v(" "),s("td",[t._v("编译 less")])]),t._v(" "),s("tr",[s("td",[t._v("gulp-autoprefixer")]),t._v(" "),s("td",[t._v("自动添加前缀")])]),t._v(" "),s("tr",[s("td",[t._v("gulp-concat")]),t._v(" "),s("td",[t._v("合并文件")])]),t._v(" "),s("tr",[s("td",[t._v("gulp-clean-css")]),t._v(" "),s("td",[t._v("压缩 css")])]),t._v(" "),s("tr",[s("td",[t._v("gulp-webserver")]),t._v(" "),s("td",[t._v("起服务")])]),t._v(" "),s("tr",[s("td",[t._v("browser-sync")]),t._v(" "),s("td",[t._v("起服务")])]),t._v(" "),s("tr",[s("td",[t._v("gulp-htmlmin")]),t._v(" "),s("td",[t._v("压缩 html")])]),t._v(" "),s("tr",[s("td",[t._v("gulp-imagemin")]),t._v(" "),s("td",[t._v("压缩图片")])]),t._v(" "),s("tr",[s("td",[t._v("gulp-uglify")]),t._v(" "),s("td",[t._v("压缩 js 不支持 ES6")])]),t._v(" "),s("tr",[s("td",[t._v("gulp-babel")]),t._v(" "),s("td",[t._v("ES6---\x3eES5")])]),t._v(" "),s("tr",[s("td",[t._v("gulp-rev")]),t._v(" "),s("td",[t._v("生成文件后缀")])]),t._v(" "),s("tr",[s("td",[t._v("gulp-rev-collector")]),t._v(" "),s("td",[t._v("替换文件路径")])])])]),t._v(" "),s("h4",{attrs:{id:"编译-scss-与-sass"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#编译-scss-与-sass","aria-hidden":"true"}},[t._v("#")]),t._v(" 编译 scss 与 sass")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v(' "gulp-sass": "^3.1.0"\n')])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("var gScss = require('gulp-sass');\ngulp.task('scss1', function() {\n    return gulp.src('./origin/*.scss') //指定scss文件\n        .pipe(gScss())//调用引入的文件 它抛出的是一个函数执行就行\n        .pipe(gulp.dest('./detection'));\n});\n")])])]),s("h4",{attrs:{id:"编译-less"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#编译-less","aria-hidden":"true"}},[t._v("#")]),t._v(" 编译 less")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v(' "gulp-less": "^3.4.0"\n')])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("var gLess = require('gulp-less');\ngulp.task('less', function() {\n    return gulp.src('./origin/*.less')\n        .pipe(gLess())\n        .pipe(gulp.dest('./detection/'));\n});\n")])])]),s("h5",{attrs:{id:"自动添加前缀"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自动添加前缀","aria-hidden":"true"}},[t._v("#")]),t._v(" 自动添加前缀")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("gulp-autoprefixer\n")])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('var autoprefixer = require("autoprefixer");\ngulp.task(\'autopre\', function() {\n    return gulp.src("src/css/*.css")\n        .pipe(autoprefixer({\n            browsers: [\'last 2 versions\'] //离你最近的两个浏览器版本\n        ))\n        .pipe(gulp.dest("dist")); //生成新文件\n})\n')])])]),s("h5",{attrs:{id:"合并文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#合并文件","aria-hidden":"true"}},[t._v("#")]),t._v(" 合并文件")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("gulp-concat\n")])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("var concats = require('gulp-concat');\ngulp.task('concat', function() {\n    return gulp.src('./detection/*.css') //需要合并的文件\n        .pipe(concats('all.css')) //合并后的文件名\n        .pipe(gulp.dest('./dest/')); //合并后存贮的位置\n});\n")])])]),s("h5",{attrs:{id:"压缩-css"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#压缩-css","aria-hidden":"true"}},[t._v("#")]),t._v(" 压缩 css")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v(' "gulp-clean-css"\n')])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("var miniCss = require('gulp-clean-css');\ngulp.task('minicss', function() {\n    return gulp.src('./detection/style.css')\n        .pipe(miniCss())\n        .pipe(gulp.dest('./zlib/'));\n});\n")])])]),s("blockquote",[s("p",[t._v("gulp-webserver")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("port ：配置端口号\nopen: 自动打开浏览器\nlivereload: 自动刷新\nhost: 配置IP\nfallback: 指定默认打开的文件\nmiddleware:function(req,res,next){ //拦截前端请求\n\n}\n")])])]),s("h4",{attrs:{id:"压缩-html"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#压缩-html","aria-hidden":"true"}},[t._v("#")]),t._v(" 压缩 html")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('"gulp-htmlmin": "^4.0.0"\n')])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("var miniHtml = require('gulp-htmlmin');\ngulp.task('miniH', function() {\n    return gulp.src('./detection/index.html')\n        .pipe(miniHtml({\n            collapseWhitespace: true, //压缩HTML\n\n        }))\n        .pipe(gulp.dest('./zlib/'))\n});\n")])])]),s("blockquote",[s("p",[t._v("miniHtml 参数")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('{\n    removeComments: true,//清除HTML注释\n    collapseWhitespace: true,//压缩HTML\n    collapseBooleanAttributes: true,//省略布尔属性的值 <input checked="true"/> ==> <input />\n    removeEmptyAttributes: true,//删除所有空格作属性值 <input id="" /> ==> <input />\n    removeScriptTypeAttributes: true,//删除<script>的type="text/javascript"\n    removeStyleLinkTypeAttributes: true,//删除<style>和<link>的type="text/css"\n\n}\n')])])]),s("h5",{attrs:{id:"压缩图片"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#压缩图片","aria-hidden":"true"}},[t._v("#")]),t._v(" 压缩图片")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('"gulp-imagemin": "^4.1.0"//压缩jpg  jpeg\n')])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("var imagemin = require('gulp-imagemin');\ngulp.task('testImagemin', function() {\n    return gulp.src('src/img/*.{png,jpg,gif,ico}')\n        .pipe(imagemin({\n            optimizationLevel: 5, //类型：Number  默认：3  取值范围：0-7（优化等级）\n            progressive: true, //类型：Boolean 默认：false 无损压缩jpg图片\n            interlaced: true, //类型：Boolean 默认：false 隔行扫描gif进行渲染\n            multipass: true //类型：Boolean 默认：false 多次优化svg直到完全优化\n        }))\n        .pipe(gulp.dest('dist/img'));\n});\n")])])]),s("h4",{attrs:{id:"压缩-js"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#压缩-js","aria-hidden":"true"}},[t._v("#")]),t._v(" 压缩 js")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('"gulp-uglify": "^3.0.0"\n')])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("var uglify = require('gulp-uglify');\ngulp.task('uglify', function() {\n    return gulp.src('./detection/a.js')\n        .pipe(uglify())\n        .pipe(gulp.dest('./zlib/'));\n});\n")])])]),s("blockquote",[s("p",[t._v("uglify 参数")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("{\n    mangle: true,//类型：Boolean 默认：true 是否修改变量名\n    mangle: {except: ['require' ,'exports' ,'module' ,'$']}//排除混淆关键字\n    compress: true,//类型：Boolean 默认：true 是否完全压缩\n    preserveComments: 'all' //保留所有注释\n}\n")])])]),s("h4",{attrs:{id:"编译-es6"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#编译-es6","aria-hidden":"true"}},[t._v("#")]),t._v(" 编译 es6")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v(' "gulp-babel": "^7.0.0"\n "babel-core": "^6.26.0"\n "babel-preset-es2015": "^6.24.1"\n')])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("var babel = require('gulp-babel');//引入gulp-babel  但是：还得安装 babel-core 和 babel-preset-es2015\ngulp.task('babel', function() {\n    return gulp.src('./origin/a.js') //需要编译的文件\n        .pipe(babel({\n            presets: 'es2015' //指定编译后的版本为es5\n        }))\n        .pipe(gulp.dest('./detection/')); //编译后存放文件的路径\n});\n")])])]),s("h5",{attrs:{id:"md5-添加前缀"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#md5-添加前缀","aria-hidden":"true"}},[t._v("#")]),t._v(" md5 添加前缀")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v(' "gulp-rev": "^8.1.1" //对文件名加MD5后缀\n "gulp-rev-collector": "^1.2.4" //路径替换\n')])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("var rev = require('gulp-rev');\nvar collector = require('gulp-rev-collector');\ngulp.task('revs', function() {\n    return gulp.src('./detection/style.css') //读取css\n        .pipe(rev())\n        .pipe(gulp.dest('./rev/')) //前缀添加完毕后存放文件的位置\n        .pipe(rev.manifest()) // json\n        .pipe(gulp.dest('./view/')); //存放json文件的地方\n})\ngulp.task('cols', function() {\n    return gulp.src(['./view/rev-manifest.json', './detection/index.html']) //读取json文件  抓取HTML中对应的文件并且取代\n        .pipe(collector({ //参数设置\n            replaceReved: true // 是否前缀被改变后可再次被取代\n        }))\n        .pipe(gulp.dest('./view/')); //存放修改文件链接后的html文件\n})\n")])])]),s("h5",{attrs:{id:"代理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#代理","aria-hidden":"true"}},[t._v("#")]),t._v(" 代理")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('gulp.task(\'server\',function(){\n\treturn gulp.src(\'member-ui\')\n\t\t.pipe(webserver({\n\t\t\tport:8989,\n\t\t\tproxies:[\n\t\t\t\t{\n\t\t\t\t\tsource:"/api/add",target:"http://192.168.1.108:3000/api/add"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tsource:"/api/del",target:"http://192.168.1.108:3000/api/del"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tsource:"/api/detail",target:"http://192.168.1.108:3000/api/detail"\n\t\t\t\t}\n\t\t\t]\n\t\t}));\n});\n')])])])])}],!1,null,null,null);e.default=r.exports}}]);