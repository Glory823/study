(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{201:function(e,n,t){"use strict";t.r(n);var a=t(0),o=Object(a.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"content"},[t("h1",{attrs:{id:"自定义指令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#自定义指令","aria-hidden":"true"}},[e._v("#")]),e._v(" 自定义指令")]),e._v(" "),t("p",[t("strong",[e._v("自定义指令是用来操作DOM的")])]),e._v(" "),t("pre",[t("code",[e._v("<div v-bg=\"'skyblue'\">box</div>\n")])]),e._v(" "),t("h4",{attrs:{id:"_1-全局自定义指令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-全局自定义指令","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.全局自定义指令")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// 注册一个全局自定义指令 `v-bg`\nVue.directive('bg', {\n    inserted(el, obj) {//执行时的钩子函数\n        // console.log(el) // 元素\n        // console.log(obj.value) //传的值\n        el.style.background = obj.value;\n    }\n})\n")])])]),t("h4",{attrs:{id:"_2-局部自定义指令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-局部自定义指令","aria-hidden":"true"}},[e._v("#")]),e._v(" 2.局部自定义指令")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('export default {\n    props:[],\n    components:{},\n    directives:{\n        "img":{//指令名称\n            bind(){//只调用一次，指令第一次绑定到元素是调用\n                console.log("bind");\n            },\n            inserted(el,obj){//当被绑定的元素插入到DOM中时执行\n                // console.log(el) // 元素\n                // console.log(obj.value) //传的值\n            },\n            update(el,obj){\n                \n            }\n         } \n    }\n}\n')])])]),t("h5",{attrs:{id:"钩子函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#钩子函数","aria-hidden":"true"}},[e._v("#")]),e._v(" 钩子函数")]),e._v(" "),t("p",[e._v("一个指令定义对象可以执行的"),t("strong",[e._v("钩子函数")])]),e._v(" "),t("p",[e._v("1."),t("strong",[e._v("bind")]),e._v("：只调用一次，指令第一次绑定到元素时调用。在这里可以进行一次性的"),t("strong",[e._v("初始化设置")]),e._v("。")]),e._v(" "),t("p",[e._v("2."),t("strong",[e._v("inserted")]),e._v("：被绑定元素插入父节点时调用 (仅保证父节点存在，但不一定已被插入文档中)。")]),e._v(" "),t("p",[e._v("3."),t("strong",[e._v("update")]),e._v("：所在组件的 VNode 更新时调用，但是可能发生在其子 VNode 更新之前。指令的值可能发生了改变，也可能没有。但是你可以通过比较更新前后的值来忽略不必要的模板更新")]),e._v(" "),t("h5",{attrs:{id:"钩子函数参数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#钩子函数参数","aria-hidden":"true"}},[e._v("#")]),e._v(" 钩子函数参数")]),e._v(" "),t("p",[e._v("1."),t("strong",[e._v("el")]),e._v("：指令所绑定的元素，可以用来直接操作 DOM 。")]),e._v(" "),t("p",[e._v("2."),t("strong",[e._v("binding")]),e._v("：一个***对象***，包含以下属性：")]),e._v(" "),t("pre",[t("code",[e._v('name：指令名，不包括 v- 前缀。\n\nvalue：指令的绑定值，例如：v-my-directive="1 + 1" 中，绑定值为 2。\n\noldValue：指令绑定的前一个值，仅在 update 和 componentUpdated 钩子中可用。无论值是否改变都可用。\n\nexpression：字符串形式的指令表达式。例如 v-my-directive="1 + 1" 中，表达式为 "1 + 1"。\n\narg：传给指令的参数，可选。例如 v-my-directive:foo 中，参数为 "foo"。\n\nmodifiers：一个包含修饰符的对象。例如：v-my-directive.foo.bar 中，修饰符对象为 { foo: true, bar: true }。\n')])]),e._v(" "),t("p",[e._v("3."),t("strong",[e._v("vnode")]),e._v("：Vue 编译生成的虚拟节点。移步 VNode API 来了解更多详情。")]),e._v(" "),t("p",[e._v("4."),t("strong",[e._v("oldVnode")]),e._v("：上一个虚拟节点，仅在 update 和 componentUpdated 钩子中可用。")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("<div v-demo=\"{ color: 'white', text: 'hello!' }\"></div>\n\nVue.directive('demo', function (el, binding) {\n  console.log(binding.value.color) // => \"white\"\n  console.log(binding.value.text)  // => \"hello!\"\n})\n")])])])])}],!1,null,null,null);n.default=o.exports}}]);